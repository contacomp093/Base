{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}" class="h-full transition-colors duration-700">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% trans "Dashboard" %}</title>

  <link rel="stylesheet" href="{% static 'css/output.css' %}" />

  <style>
    /********************************************
     * üé® FONDO DEGRADADO EST√ÅTICO
     ********************************************/
    body {
      background: linear-gradient(
        135deg,
        #86efac 0%,
        #38bdf8 15%,
        #3b82f6 55%,
        #818cf8 85%,
        #c084fc 100%
      );
      color: #1f2937;
      transition: background 0.7s ease, color 0.7s ease;
    }

    body.dark {
      background: linear-gradient(
        135deg,
        #020617 0%,
        #0f172a 15%,
        #1e3a8a 55%,
        #3730a3 80%,
        #5b21b6 100%
      );
    }

    /********************************************
     * üî• COLORES LOGIN
     ********************************************/
    h1, h2, h3, h4 {
      transition: color 0.7s ease-in-out;
      color: #0f172a !important;
    }
    body.dark h1, body.dark h2, body.dark h3, body.dark h4 {
      color: #f8fafc !important;
    }

    p {
      color: #334155 !important;
      transition: color 0.7s ease-in-out;
    }
    body.dark p {
      color: #cbd5e1 !important;
    }

    /********************************************
     * üî• TARJETAS GLASSMORPHISM
     ********************************************/
    .card-translucent {
      background-color: rgba(255, 255, 255, 0.4) !important;
      border: 1px solid rgba(255, 255, 255, 0.3) !important;
      backdrop-filter: blur(20px) !important;
      transition: background 0.7s, border-color 0.7s, color 0.7s;
    }
    body.dark .card-translucent {
      background-color: rgba(31, 41, 55, 0.5) !important;
      border-color: rgba(55, 65, 81, 0.4) !important;
    }

    .card-translucent * {
      transition: color 0.7s ease-in-out !important;
    }

    /********************************************
     * üåô √çCONOS DEL BOT√ìN DE TEMA
     ********************************************/
    .theme-icon {
      opacity: 1;
      transform: scale(1);
      transition: opacity 0.5s, transform 0.5s;
    }
    .theme-icon.hidden {
      opacity: 0;
      transform: scale(0.75);
      pointer-events: none;
    }

    /********************************************
     * ‚ú® NAVBAR TEXTOS + ICONOS
     ********************************************/
    nav a, nav span {
      color: #0f172a !important;
      transition: color 0.7s ease;
    }
    body.dark nav a, body.dark nav span {
      color: #f1f5f9 !important;
    }

    nav svg {
      transition: stroke 0.7s ease, color 0.7s ease;
    }

    #profile-menu a {
      color: #0f172a !important;
      transition: color 0.7s;
    }
    body.dark #profile-menu a {
      color: #e2e8f0 !important;
    }

    /********************************************
     * ‚≠ê SIDEBAR GLASS
     ********************************************/
    #sidebar, #sidebar a, #sidebar h2, #sidebar svg {
      transition: color 0.7s ease, stroke 0.7s ease;
      color: #0f172a !important;
      stroke: #0f172a !important;
    }

    body.dark #sidebar,
    body.dark #sidebar a,
    body.dark #sidebar h2,
    body.dark #sidebar svg {
      color: #f1f5f9 !important;
      stroke: #f1f5f9 !important;
    }

    /* OVERLAY para m√≥viles */
    #overlay {
      background: rgba(0, 0, 0, 0.35);
      backdrop-filter: blur(4px);
    }

    /********************************************
     * ‚ú® Animaci√≥n FadeIn
     ********************************************/
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px) scale(0.97); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    .fade-in { animation: fadeIn 0.6s ease-out forwards; }

    #sidebar-content {
  padding-top: 3.5rem; /* suficiente para bajar Men√∫ */
}
  </style>
</head>

<body class="h-full transition-colors duration-700">

<!-- OVERLAY (se muestra cuando el sidebar est√° abierto en m√≥vil) -->
<div id="overlay"
     class="fixed inset-0 hidden md:hidden z-40 transition-opacity"></div>

<!-- SIDEBAR -->
<aside id="sidebar"
  class="fixed top-0 left-0 h-full w-64 card-translucent shadow-2xl backdrop-blur-xl transform -translate-x-full 
  transition-transform duration-500 p-6 flex flex-col gap-6 z-50">
    <!-- Mismo bot√≥n de men√∫ pero para cerrar -->
    <button id="close-sidebar"
    class="absolute top-4 left-4 p-2 rounded-lg bg-white/60 dark:bg-gray-800/40 backdrop-blur-md shadow-lg z-50">
    <svg class="w-7 h-7 text-gray-800 dark:text-gray-200" fill="none"
        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
            d="M4 6h16M4 12h16M4 18h16" />
    </svg>
    </button>
<div id="sidebar-content">
  <h2 class="text-2xl font-bold">{% trans "Men√∫" %}</h2>

  <nav class="flex flex-col gap-4 text-lg">

    <a href="#" class="flex items-center gap-3 hover:underline">
      <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              stroke-width="2"
              d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 
                 1 0 001 1h3m10-11l2 2m-2-2v10a1 
                 1 0 01-1 1h-3m-6 0h6" />
      </svg>
      {% trans "Dashboard" %}
    </a>

    <a href="#" class="flex items-center gap-3 hover:underline">
      <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              stroke-width="2"
              d="M17 20h5V10H2v10h5m10 0H7m10 
                 0V4a2 2 0 10-4 0v16" />
      </svg>
      {% trans "Usuarios" %}
    </a>

    <a href="#" class="flex items-center gap-3 hover:underline">
      <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              stroke-width="2"
              d="M9 17v-6l-2 2m4-2v6m4-6l2 2m-6-9v2m-4 
                 0h8m-8 4h8" />
      </svg>
      {% trans "Reportes" %}
    </a>

    <a href="#" class="flex items-center gap-3 hover:underline">
      <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round"
              stroke-width="2"
              d="M12 6v6m0 0v6m0-6h6m-6 
                 0H6" />
      </svg>
      {% trans "Configuraci√≥n" %}
    </a>

  </nav>
</div>
</aside>

<!-- NAVBAR -->
<nav class="w-full card-translucent shadow-2xl p-4 flex justify-between items-center fade-in">

<button id="menu-toggle"
  class="p-2 rounded-lg bg-white/60 dark:bg-gray-800/40 backdrop-blur-md shadow-lg relative z-50">
  <svg class="w-7 h-7 text-gray-800 dark:text-gray-200" fill="none"
       viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round"
          d="M4 6h16M4 12h16M4 18h16" />
  </svg>
</button>


  <!-- Enlaces centrados -->
  <ul class="hidden md:flex gap-6 text-sm font-medium">
    <li><a href="#" class="hover:underline">{% trans "Dashboard" %}</a></li>
    <li><a href="#" class="hover:underline">{% trans "Usuarios" %}</a></li>
    <li><a href="#" class="hover:underline">{% trans "Reportes" %}</a></li>
  </ul>

  <!-- Zona derecha -->
  <div class="flex items-center gap-4">

    <!-- Notificaciones -->
    <button class="relative p-2 rounded-full bg-white/60 dark:bg-gray-800/40 backdrop-blur-md">
      <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24"
           stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M15 17h5l-1.405-1.405A2.032 
           2.032 0 0 1 18 14.158V11a6 6 0 1 
           0-12 0v3.159c0 .538-.214 
           1.055-.595 1.436L4 17h5m6 
           0v1a3 3 0 1 1-6 0v-1m6 0H9"/>
      </svg>
      <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
    </button>

    <!-- Perfil -->
    <div class="relative">
      <button id="profile-toggle"
        class="flex items-center gap-2 p-1 rounded-xl bg-white/60 dark:bg-gray-800/40 backdrop-blur-md">
        <img src="https://i.pravatar.cc/40" class="w-9 h-9 rounded-full" />
        <span class="hidden md:block font-medium">{% trans "Mi Cuenta" %}</span>
      </button>

      <div id="profile-menu"
        class="card-translucent shadow-xl absolute right-0 mt-2 w-44 rounded-xl p-4 hidden flex-col gap-3">
        <a href="#">{% trans "Perfil" %}</a>
        <a href="#">{% trans "Ajustes" %}</a>
        <a href="#" class="text-red-500">{% trans "Cerrar sesi√≥n" %}</a>
      </div>
    </div>

    <!-- Tema -->
    <button id="theme-toggle"
      class="flex items-center justify-center w-10 h-10 rounded-full border border-gray-400 dark:border-gray-600 
        bg-white/90 dark:bg-gray-900/80 hover:bg-gray-100 dark:hover:bg-gray-800 
        shadow-xl backdrop-blur-md transition-all duration-500 transform hover:scale-110">

      <svg id="icon-sun" class="theme-icon w-7 h-7 text-yellow-400 hidden"
        fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M12 3v1.5m0 15V21m9-9h-1.5M4.5 
           12H3m15.364 6.364-1.06-1.06M7.757 
           7.757 6.697 6.697m10.607 0-1.06 
           1.06M7.757 16.243l-1.06 1.06M12 
           8.25a3.75 3.75 0 1 1 0 
           7.5 3.75 3.75 0 0 1 0-7.5z"/>
      </svg>

      <svg id="icon-moon" class="theme-icon w-7 h-7 text-indigo-300"
        fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M21 12.79A9 9 0 1 1 11.21 
           3a7.5 7.5 0  0 0 9.79 9.79z"/>
      </svg>

    </button>

  </div>
</nav>


<!-- CONTENIDO -->
<div class="max-w-6xl mx-auto p-6 fade-in">
  <h2 class="text-3xl font-bold mb-6">{% trans "Bienvenido al Dashboard" %} üéâ</h2>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="card-translucent rounded-2xl p-6 shadow-xl">
      <h3 class="text-xl font-semibold">{% trans "Usuarios" %}</h3>
      <p class="mt-2">{% trans "Total registrados:" %} 12</p>
    </div>

    <div class="card-translucent rounded-2xl p-6 shadow-xl">
      <h3 class="text-xl font-semibold">{% trans "Sesiones activas" %}</h3>
      <p class="mt-2">{% trans "Hoy:" %} 5</p>
    </div>

    <div class="card-translucent rounded-2xl p-6 shadow-xl">
      <h3 class="text-xl font-semibold">{% trans "Notificaciones" %}</h3>
      <p class="mt-2">{% trans "Nuevas:" %} 2</p>
    </div>
  </div>
</div>

<!-- SCRIPT PERFIL -->
<script>
  document.getElementById("profile-toggle").onclick = () =>
    document.getElementById("profile-menu").classList.toggle("hidden");
</script>

<!-- SCRIPT DE SIDEBAR -->
<script>
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");
  const menuToggle = document.getElementById("menu-toggle");
  const closeSidebar = document.getElementById("close-sidebar");


  menuToggle.onclick = () => {
    sidebar.classList.toggle("-translate-x-full");
    overlay.classList.toggle("hidden");
  };

  overlay.onclick = () => {
    sidebar.classList.add("-translate-x-full");
    overlay.classList.add("hidden");
  };
  closeSidebar.onclick = () => {
    sidebar.classList.add("-translate-x-full");
    overlay.classList.add("hidden");
};

</script>

<!-- SCRIPT DE TEMA -->
<script>
  const themeToggle = document.getElementById("theme-toggle");
  const html = document.documentElement;
  const body = document.body;
  const iconSun = document.getElementById("icon-sun");
  const iconMoon = document.getElementById("icon-moon");

  const userPrefDark =
    localStorage.theme === "dark" ||
    (!("theme" in localStorage) &&
      window.matchMedia("(prefers-color-scheme: dark)").matches);

  function syncIcons(isDark) {
    iconMoon.classList.toggle("hidden", isDark);
    iconSun.classList.toggle("hidden", !isDark);
  }

  if (userPrefDark) {
    html.classList.add("dark");
    body.classList.add("dark");
    syncIcons(true);
  } else {
    syncIcons(false);
  }

  themeToggle.addEventListener("click", () => {
    const isDark = html.classList.toggle("dark");
    body.classList.toggle("dark");
    localStorage.theme = isDark ? "dark" : "light";
    syncIcons(isDark);
  });
</script>

</body>
</html>
